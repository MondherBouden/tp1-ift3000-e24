<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tp1 (tp1.Tp1)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">tp1</a> &#x00BB; Tp1</nav><header class="odoc-preamble"><h1>Module <code><span>Tp1</span></code></h1><p>Langages de Programmation: IFT 3000 NRC 54959 TP1 ÉTÉ 2024. Date limite: Jeudi 14 juin à 17h00 Manipulation d'un reseau en utilisant un graphe</p></header><nav class="odoc-toc"><ul><li><a href="#déclarations-d'execptions-et-de-types">Déclarations d'execptions et de types</a></li><li><a href="#interface-des-fonctions-à-implémenter">Interface des fonctions à implémenter</a></li></ul></nav><div class="odoc-content"><h2 id="déclarations-d'execptions-et-de-types"><a href="#déclarations-d'execptions-et-de-types" class="anchor"></a>Déclarations d'execptions et de types</h2><div class="odoc-spec"><div class="spec exception anchored" id="exception-Non_Implante"><a href="#exception-Non_Implante" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Non_Implante</span> <span class="keyword">of</span> string</span></code></div><div class="spec-doc"><p>Une exception utilisée pour tester les fonctions</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-nom_ville"><a href="#type-nom_ville" class="anchor"></a><code><span><span class="keyword">type</span> nom_ville</span><span> = string</span></code></div><div class="spec-doc"><p>Le nom d'une ville dans le réseau aérien représentant un aéroport</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-ville"><a href="#type-ville" class="anchor"></a><code><span><span class="keyword">type</span> ville</span><span> = </span><span>{</span></code><ol><li id="type-ville.nom" class="def record field anchored"><a href="#type-ville.nom" class="anchor"></a><code><span>nom : <a href="#type-nom_ville">nom_ville</a>;</span></code></li><li id="type-ville.liste_voisins" class="def record field anchored"><a href="#type-ville.liste_voisins" class="anchor"></a><code><span>liste_voisins : <span><a href="#type-nom_ville">nom_ville</a> list</span>;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Une ville implémentée avec un enregistrement</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-trajet"><a href="#type-trajet" class="anchor"></a><code><span><span class="keyword">type</span> trajet</span><span> = <a href="#type-nom_ville">nom_ville</a> * <a href="#type-nom_ville">nom_ville</a></span></code></div><div class="spec-doc"><p>Un trajet implémenté avec une paire représentant le départ et l'arrivée</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-reseau"><a href="#type-reseau" class="anchor"></a><code><span><span class="keyword">type</span> reseau</span><span> = </span></code><ol><li id="type-reseau.Vide" class="def variant constructor anchored"><a href="#type-reseau.Vide" class="anchor"></a><code><span>| </span><span><span class="constructor">Vide</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Un réseau vide</p><span class="comment-delim">*)</span></div></li><li id="type-reseau.Vlist" class="def variant constructor anchored"><a href="#type-reseau.Vlist" class="anchor"></a><code><span>| </span><span><span class="constructor">Vlist</span> <span class="keyword">of</span> <span><a href="#type-ville">ville</a> list</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Un réseau contenant une liste de villes</p><span class="comment-delim">*)</span></div></li></ol></div></div><h2 id="interface-des-fonctions-à-implémenter"><a href="#interface-des-fonctions-à-implémenter" class="anchor"></a>Interface des fonctions à implémenter</h2><div class="odoc-spec"><div class="spec value anchored" id="val-initialiser_reseau"><a href="#val-initialiser_reseau" class="anchor"></a><code><span><span class="keyword">val</span> initialiser_reseau : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-reseau">reseau</a></span></code></div><div class="spec-doc"><p><code>initialiser_reseau ()</code> retourne un réseau vide. Cette fonction est founie !</p><p>Exemple:</p><pre class="language-ocaml"><code># let r = initialiser_reseau ();;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ajouter_ville"><a href="#val-ajouter_ville" class="anchor"></a><code><span><span class="keyword">val</span> ajouter_ville : <span><a href="#type-nom_ville">nom_ville</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-reseau">reseau</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-reseau">reseau</a></span></code></div><div class="spec-doc"><p><code>ajouter_ville nv r</code> Cette fonction prend le nom d'une ville nv et un réseau r et qui rend le réseau mis à jour contenant la nouvelle ville. Elle doit retourner un réseau inchangé si la ville est déjà dans le réseau. De ce fait, on ne rajoute pas de doublons dans le réseau.</p><p>Exemple:</p><pre class="language-ocaml"><code># let r = ajouter_ville &quot;Quebec&quot; r;;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ajouter_liste_villes"><a href="#val-ajouter_liste_villes" class="anchor"></a><code><span><span class="keyword">val</span> ajouter_liste_villes : <span><span><a href="#type-nom_ville">nom_ville</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-reseau">reseau</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-reseau">reseau</a></span></code></div><div class="spec-doc"><p><code>ajouter_liste_villes lv r</code> Cette fonction prend une liste de noms de villes lv et un réseau r et retourne le réseau mis à jour dans lequel toutes les villes ont été ajoutées dans ce réseau.</p><p>Exemple:</p><pre class="language-ocaml"><code># let r = ajouter_liste_villes [&quot;Montreal&quot;; &quot;Sherbrouke&quot;; &quot;Chicoutimi&quot;; 
                              &quot;Paris&quot;; &quot;La_Havane&quot;; &quot;Detroit&quot;; &quot;Ottawa&quot;; 
                              &quot;Vancouver&quot;; &quot;Toronto&quot;; &quot;Bogota&quot;; &quot;Bruxelles&quot;; 
                              &quot;Bujumbura&quot;; &quot;Iqaluit&quot;; &quot;Chicago&quot;; &quot;Tokyo&quot;; 
                              &quot;Auckland&quot;; &quot;New_York&quot;; &quot;Singapour&quot;] r;;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-supprimer_ville"><a href="#val-supprimer_ville" class="anchor"></a><code><span><span class="keyword">val</span> supprimer_ville : <span><a href="#type-nom_ville">nom_ville</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-reseau">reseau</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-reseau">reseau</a></span></code></div><div class="spec-doc"><p><code>supprimer_ville nv r</code> Cette fonction prend le nom d'une ville nv et un réseau r et qui rend le réseau mis à jour en supprimant la ville qui n'est plus desservie par la compagnie aérienne, ainsi que toutes les références à cette ville dans la liste des successeurs de toutes les autres villes. Cette fonction retourne un message d’erreur si le réseau est vide ou si le réseau ne contient pas la ville à supprimer.</p><p>Exemple:</p><pre class="language-ocaml"><code># let r = supprimer_ville &quot;Montreal&quot; r;;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ajouter_trajet"><a href="#val-ajouter_trajet" class="anchor"></a><code><span><span class="keyword">val</span> ajouter_trajet : <span><a href="#type-trajet">trajet</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-reseau">reseau</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-reseau">reseau</a></span></code></div><div class="spec-doc"><p><code>ajouter_trajet (nv1,nv2) r</code> Cette fonction prend un trajet entre deux villes (nv1, nv2) et un réseau r et qui rend comme résultat le réseau mis à jour dans lequel le nom de la ville nv2 a été rajoutée à la liste des successeurs de la ville dont le nom est nv1. Cette fonction retourne un message d’erreur si le réseau est vide ou si le réseau ne contient pas une des villes formant le trajet à ajouter. Cependant, elle doit retourner un réseau inchangé si le trajet existe déjà dans le réseau.</p><p>Exemple:</p><pre class="language-ocaml"><code># let r = ajouter_trajet (&quot;Quebec&quot;,&quot;Montreal&quot;) r;;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ajouter_liste_trajets"><a href="#val-ajouter_liste_trajets" class="anchor"></a><code><span><span class="keyword">val</span> ajouter_liste_trajets : <span><span><a href="#type-trajet">trajet</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-reseau">reseau</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-reseau">reseau</a></span></code></div><div class="spec-doc"><p><code>ajouter_liste_trajets lt r</code> Cette fonction prend une liste de trajets lt et un réseau r et retourne le réseau mis à jour dans lequel tous les trajets ont été ajoutés dans ce réseau.</p><p>Exemple:</p><pre class="language-ocaml"><code># let r = ajouter_liste_trajets [(&quot;Montreal&quot;,&quot;Quebec&quot;);(&quot;Montreal&quot;,&quot;Sherbrouke&quot;);
(&quot;Quebec&quot;,&quot;Sherbrouke&quot;); (&quot;Quebec&quot;,&quot;Chicoutimi&quot;);(&quot;Sherbrouke&quot;,&quot;Quebec&quot;);(&quot;Montreal&quot;,&quot;Paris&quot;);
(&quot;Montreal&quot;,&quot;New_York&quot;);(&quot;Paris&quot;,&quot;Montreal&quot;);(&quot;Quebec&quot;,&quot;La_Havane&quot;);
 (&quot;Montreal&quot;,&quot;Detroit&quot;);(&quot;Montreal&quot;,&quot;Ottawa&quot;);(&quot;Montreal&quot;,&quot;Vancouver&quot;);
 (&quot;Toronto&quot;,&quot;Bogota&quot;);(&quot;Montreal&quot;,&quot;Toronto&quot;);(&quot;Vancouver&quot;,&quot;Toronto&quot;);
 (&quot;Montreal&quot;,&quot;Bruxelles&quot;);(&quot;Bruxelles&quot;,&quot;Bujumbura&quot;);(&quot;Ottawa&quot;,&quot;Iqaluit&quot;);
 (&quot;Quebec&quot;,&quot;Chicago&quot;);(&quot;Vancouver&quot;,&quot;Tokyo&quot;);(&quot;Vancouver&quot;,&quot;Auckland&quot;);
 (&quot;Chicago&quot;,&quot;Vancouver&quot;);(&quot;Bujumbura&quot;,&quot;Bruxelles&quot;);(&quot;New_York&quot;,&quot;Detroit&quot;)] r;;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-supprimer_trajet"><a href="#val-supprimer_trajet" class="anchor"></a><code><span><span class="keyword">val</span> supprimer_trajet : <span><a href="#type-trajet">trajet</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-reseau">reseau</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-reseau">reseau</a></span></code></div><div class="spec-doc"><p><code>supprimer_trajet (nv1,nv2) r</code> Cette fonction prend un trajet entre deux villes (nv1, nv2) et un réseau r et qui rend comme résultat le réseau mis à jour dans lequel le nom de la ville nv2 est supprimée de la liste des successeurs de la ville dont le nom est nv1. En fait, ceci veut dire que la compagnie aérienne n'offre plus ce trajet. Cette fonction retourne un message d’erreur si le réseau est vide ou si le réseau ne contient pas une des villes formant le trajet à supprimer.</p><p>Exemple:</p><pre class="language-ocaml"><code># let r = supprimer_trajet (&quot;Sherbrouke&quot;, &quot;Quebec&quot;) r;;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-trouver_chemins"><a href="#val-trouver_chemins" class="anchor"></a><code><span><span class="keyword">val</span> trouver_chemins : <span><a href="#type-reseau">reseau</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-reseau">reseau</a></span></code></div><div class="spec-doc"><p><code>trouver_chemins r</code> Cette fonction prend un réseau r et qui rend comme résultat le réseau de la fermeture transitive de r. Elle permettra par exemple à une agence de voyages de connaître tous les chemins que la compagnie aérienne peut offrir à sa clientèle en utilisant des transits entre villes. Il est à noter que cette fonction retourne un message d’erreur si le réseau est vide. Nous vous donnons ici une façon de l'implanter, mais libre à vous d'opter pour une autre façon étant donné qu'il existe toujours plusieurs solutions à un même problème. Nous vous suggérons par contre d'opter pour la façon récursive suivante: *- Pour chaque ville du reseau r, on construit un nouveau réseau r', où on rajoute à la liste lv des successeurs de chaque ville v, les successeurs de chacun des éléments de la liste lv. Si le réseau r' ainsi obtenu est le même que r on s’arrête sinon on applique le même traitement à r' de façon récursive. *- Pour pouvoir réaliser ce traitement, vous aurez besoin d’un booléen pour savoir s’il y a eu des changements suite à la modification des listes de successeurs. De ce fait, vous pouvez implanter la fonction trouver_chemins en utilisant une fonction utilitaire fermeture_transitive qui a comme type : ville list-&gt; bool -&gt; ville list.</p><p>Exemple:</p><pre class="language-ocaml"><code># let r = trouver_chemins r;;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-afficher_villes"><a href="#val-afficher_villes" class="anchor"></a><code><span><span class="keyword">val</span> afficher_villes : <span><a href="#type-reseau">reseau</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>afficher_villes r</code> Cette fonction prend un réseau r et affiche tous les noms de villes (sur la même ligne) appartenant à ce réseau. Cette fonction affiche le message &quot;le réseau est vide&quot; si effectivement le réseau est vide.</p><p>Exemple:</p><pre class="language-ocaml"><code># let r = afficher_villes r;;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-afficher_reseau"><a href="#val-afficher_reseau" class="anchor"></a><code><span><span class="keyword">val</span> afficher_reseau : <span><a href="#type-reseau">reseau</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>afficher_reseau r</code> Cette fonction prend un réseau r et affiche, en plus des noms des villes appartenant à ce réseau, les successeurs de chaque ville. Veuillez consulter la fin du fichier &quot;testeur.ml&quot; pour savoir le format de sortie de cette fonction.</p><p>Exemple:</p><pre class="language-ocaml"><code># let r = afficher_reseau r;;</code></pre></div></div></div></body></html>
